<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrix Rain Effect</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: black;
    }

    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="matrixCanvas"></canvas>
  <script>
    const canvas = document.getElementById('matrixCanvas');
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const fontSize = 16;
    const columns = canvas.width / fontSize;
    const drops = [];

    for (let i = 0; i < columns; i++) {
      drops[i] = -1;
    }

    function getRandomChar() {
  let charCode;
  do {
    charCode = Math.floor(Math.random() * 65536);
  } while (
    (charCode >= 0x2000 && charCode <= 0x206f) || // General Punctuation
    (charCode >= 0x20a0 && charCode <= 0x20cf) || // Currency Symbols
    (charCode >= 0x2100 && charCode <= 0x214f) || // Letterlike Symbols
    (charCode >= 0x2190 && charCode <= 0x21ff) || // Arrows
    (charCode >= 0x2200 && charCode <= 0x22ff) || // Mathematical Operators
    (charCode >= 0x2300 && charCode <= 0x23ff) || // Miscellaneous Technical
    (charCode >= 0x25a0 && charCode <= 0x25ff) || // Geometric Shapes
    (charCode >= 0x2600 && charCode <= 0x26ff) || // Miscellaneous Symbols
    (charCode >= 0x2700 && charCode <= 0x27bf) || // Dingbats
    (charCode >= 0x3000 && charCode <= 0x303f) || // CJK Symbols and Punctuation
    (charCode >= 0xfe00 && charCode <= 0xfe0f) || // Variation Selectors
    (charCode >= 0xff00 && charCode <= 0xffef) || // Halfwidth and Fullwidth Forms
    (charCode >= 0x1f000 && charCode <= 0x1f02f) || // Mahjong Tiles
    (charCode >= 0x1f0a0 && charCode <= 0x1f0ff) || // Playing Cards
    (charCode >= 0x1f300 && charCode <= 0x1f5ff) || // Miscellaneous Symbols and Pictographs
    (charCode >= 0x1f600 && charCode <= 0x1f64f) || // Emoticons (Emoji)
    (charCode >= 0x1f900 && charCode <= 0x1f9ff) || // Supplemental Symbols and Pictographs
    (charCode >= 0x1fa70 && charCode <= 0x1faff)    // Symbols and Pictographs Extended-A
  );

  return String.fromCharCode(charCode);
}


    const asciiArt = [
"                               .;'.'o0KXNNNNNNWWWWWWWWWNNNNXXX0c....                                ",
"                              .'..,oOKKXNNNWWWWWWWWWWWWNNNNXXXKOl'..                                ",
"                             ....'lk0KXXNNNWWWWWWWWWWWNNNNNXXXK0Ol...                               ",
"                             ....;ldO0KXNNNWWWWWWWWWWWWWWWNNXK00ko;....                             ",
"            .                . ..;clxOKXXNNWWWWWWWWWWWWWWWNXXK0Odc;. ...           ....             ",
"     ...........   .        .   .':cldOKXXNWWMMWWWWWWWWWWWNXKKOdc:,.  ..     ............           ",
"   ...':llloddddoc::,..     .    .;codx0XXNNWWWWWMWWWWWWWNNXXKkdl:'    .   ...':oooddxxxolcc;..     ",
"  .''lOXNNNWWWWWNNNX0o,.    .    .;cdxddk0KXXNNWWWWWWWWWNXXKOxdxdc'       .''cOXNNNWWWWWNNNXKd;.    ",
" ...l0KXNNWWWWWWWNNXXKd,.        .'...   ..,:cldOO00Okdlc:,..  ....      ...cOKXNNWWWWWWNNNNXKx,.   ",
" ..,lkKXNWWWWWWWWWNXK0x:..       ..            .;ldxo;.              .   ..'ok0XNWWWWWWWWWWNK0kc... ",
"   ':okKXNWMWWWWWWNXKkl,. . ...  ...           'dOKNKd'             ...    .lxk0XNWWWWWWWWNXKko;. . ",
"   .;coOXNWWWWWWWWNX0xl,   .,'.. .;;'..       .oKKXNXKo.        .....,,.   .:dkOKNNWWWWWWWNX0ko,    ",
"   .....,:ldk00Oxoc;'...   .::,. .':olc:;;;;,,cOXNWWNKkl;;,,,;:cc;...;,    .','.,:cox00Oxoc;'',.    ",
"            'dkc.        . .,lc'...';ldddddxxdokXNWWN0xoddooodol:'..cc.  .  .       .dOl.        .  ",
"....'..    .lXNO,     ...'. .,cc,...';coodxkxl;,:lool;,cdxdoooc;...;l;  .'..''.     cKN0:     ...'. ",
",;..,clc:::cONWKdc:::c:..;.   .;;.....':odxkxd;.      'lxkxddl;...';'   ':..,llcc::ckNWXxc:::cc'.;. ",
".:;..':odxxc:dxlcddoo:'.;;     .,;....';odxk0Oxc'.. .:dO0Okxoc'....'.   .;:..;codxxl:odl:oxolc'.;;. ",
" .''..':dxko.  .cxkdc'.''.     .c:....',lddxkkdo:;,,;cldxxxdl;...         ''.,:coxkd,  .cxkdc,..'.  ",
"  .,...;odxdc'.:oxxo;...       .:;. ...':lc;;;;;;;::;;;;;;::;'..          .;..;:ldxdc'':oxdl:'..    ",
"  .;. .';:clllllllc:'.         .cl'  ...',;coooolllllodddl;,'..           .:...,;:cccclccc:;'.      ",
"  .;'  ..,c;,,,,:c;..           ;o;   ....';:,.........,:;'...            .:,  ..,::,,;,;:;..       ",
"   ',.  ..';lddo:'..            .l:.    ....',:oxxxkkdc;'....              ;:.  ..':oxxdc'..        ",
"   .;...  ..',,,'.. .            ;l'..     .';codddxxdl:'.    .            .:...  .',;;,'.  ..      ",
"   .:'......     ......          'o:.....   .............  ....            .:,......     ......     ",
"  ..;;,'...........';:'.         ,ol,...''.................';:,..         ..;:;'...........';:,..   ",
    ];

    let asciiArtDisplayTime = 0;
    const maxAsciiArtDisplayTime = 40;

    function drawAsciiArt() {
      ctx.fillStyle = '#00ff00';
      ctx.font = `${fontSize}px monospace`;
      const yOffset = (canvas.height / 2) - fontSize * (asciiArt.length / 2);
      for (let i = 0; i < asciiArt.length; i++) {
        const textWidth = ctx.measureText(asciiArt[i]).width;
        const xOffset = (canvas.width - textWidth) / 2;
        ctx.fillText(asciiArt[i], xOffset, yOffset + i * fontSize);
      }
    }

    function drawMatrixRain() {
      ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.font = `${fontSize}px monospace`;
      for (let i = 0; i < drops.length; i++) {
        const char = getRandomChar();

        ctx.fillStyle = '#00ff00';
        ctx.fillText(char, i * fontSize, drops[i] * fontSize);

        if (Math.random() < 0.01 || drops[i] * fontSize > canvas.height * 2) {
          drops[i] = 0;
        }

        drops[i]++;
      }
    }

    function draw() {
      if (asciiArtDisplayTime < maxAsciiArtDisplayTime) {
        drawAsciiArt();
        asciiArtDisplayTime++;

        const yOffset = Math.floor((canvas.height / 2) - fontSize * (asciiArt.length / 2));
        for (let i = 0; i < asciiArt.length; i++) {
          const textWidth = ctx.measureText(asciiArt[i]).width;
          const xOffset = Math.floor((canvas.width - textWidth) / 2 / fontSize);
          for (let j = 0; j < asciiArt[i].length; j++) {
            if (Math.random() < 0.001 * (1 + asciiArtDisplayTime / maxAsciiArtDisplayTime)) {
              const x = xOffset + j;
              if (drops[x] === -1) {
                drops[x] = yOffset / fontSize + i;
              }
            }
          }
        }
      } else {
        drawMatrixRain();
      }
    }

    setInterval(draw, 50);
  </script>
</body>
</html>

